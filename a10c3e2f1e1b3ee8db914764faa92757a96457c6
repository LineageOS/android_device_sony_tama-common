{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "b070ad1f_f9a30a1b",
        "filename": "system.prop",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 26916
      },
      "writtenOn": "2022-03-28T20:32:20Z",
      "side": 1,
      "message": "This will fail to build in lineage-19.1: https://github.com/LineageOS/android_build/commit/2e881585717f1e89b7c78d8830caab6150c75844#diff-39ea0bfbfc0c8ded6e3f2a6671bf622bdda9cee9d281e51d60259645c9c714ca\n\nBut maybe we should consider using the PRODUCT_ACTIONABLE_COMPATIBLE_PROPERTY_DISABLE flag instead? And for 19.1 we need to find another way how to override that.",
      "revId": "a10c3e2f1e1b3ee8db914764faa92757a96457c6",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b050f89_62b19cc4",
        "filename": "system.prop",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 30683
      },
      "writtenOn": "2022-03-28T22:33:48Z",
      "side": 1,
      "message": "If ro.actionable_compatible_property.enabled has been removed, we will need to patch the sony-modem-switcher binary to use a different property we can trigger on. We already patch this binary for paths.\n\nAny of these property prefixes will work: https://android.googlesource.com/platform/system/core/+/master/init/action_parser.cpp#46\n\nWe can use any compatible name no longer than\n\n    persist.somc.cust.modem0\n\nHow about\n\n    persist.vendor.somc.sim0\n\nIf you agree with the name, or you have a better one, I\u0027ll give it a go.",
      "parentUuid": "b070ad1f_f9a30a1b",
      "revId": "a10c3e2f1e1b3ee8db914764faa92757a96457c6",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f146428b_b7d0d048",
        "filename": "system.prop",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 26916
      },
      "writtenOn": "2022-03-29T06:57:57Z",
      "side": 1,
      "message": "It\u0027s not removed but it\u0027s forced to true now. So this will result in duplicate property and fail to build. I\u0027m still trying to figure out why all these changes are needed for tama but not for nile.",
      "parentUuid": "0b050f89_62b19cc4",
      "revId": "a10c3e2f1e1b3ee8db914764faa92757a96457c6",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "818ecc5c_ed9e99b1",
        "filename": "system.prop",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 26916
      },
      "writtenOn": "2022-03-29T07:09:14Z",
      "side": 1,
      "message": "error: found duplicate sysprop assignments:\nro.actionable_compatible_property.enabled\u003dfalse\nro.actionable_compatible_property.enabled\u003dtrue\n\nLatter one is generated from variable ADDITIONAL_SYSTEM_PROPERTIES.",
      "parentUuid": "f146428b_b7d0d048",
      "revId": "a10c3e2f1e1b3ee8db914764faa92757a96457c6",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d20902b_c367c241",
        "filename": "system.prop",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 26916
      },
      "writtenOn": "2022-03-29T16:48:17Z",
      "side": 1,
      "message": "Ok. I don\u0027t know why but it seems to be necessary. I would prefer to use sed/patch the binary (+ init.sony-modem-switcher.rc) instead because we have to do it in 19.1 anyway. Can you make a new patchset pls? persist.vendor.somc.sim0/persist.vendor.somc.sim1 sounds good to me",
      "parentUuid": "818ecc5c_ed9e99b1",
      "revId": "a10c3e2f1e1b3ee8db914764faa92757a96457c6",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a8aeb8f_661d9684",
        "filename": "system.prop",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 30683
      },
      "writtenOn": "2022-03-30T01:54:30Z",
      "side": 1,
      "message": "It is entirely possible that it does workâ€¦ with degraded functionality. The service triggers on both boot and on property change. If ro.actionable_compatible_property.enabled\u003dtrue, the sony-modem-service will still trigger and perform its checks on boot. This may mean it takes an additional reboot to activate IMS.\n\nWe can do better than that. See v4 which patches the binary.\n\nMy test procedure is as follows:\n\n1. Poweroff and remove SIM\n2. Restart\n3. (as root) `setprop persist.vendor.somc.cust.modem0 anysim`\n4. (as root) verify `getprop persist.vendor.somc.sim0` is \"anysim\"\n5. Poweroff, reinstall SIM, reboot. Wait a moment for the system to come up.\n6. Verify that `getprop persist.vendor.somc.sim0` has an S-config and that IMS registration completes\n\nIt is not a sufficient test to simply boot with no SIM. Without a SIM, the previous IMS configuration remains flashed.",
      "parentUuid": "2d20902b_c367c241",
      "revId": "a10c3e2f1e1b3ee8db914764faa92757a96457c6",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d7366332_db0059a2",
        "filename": "system.prop",
        "patchSetId": 3
      },
      "lineNbr": 53,
      "author": {
        "id": 26916
      },
      "writtenOn": "2022-03-30T06:52:46Z",
      "side": 1,
      "message": "Looks good. I\u0027ll test it now on 18.1 and 19.1.",
      "parentUuid": "0a8aeb8f_661d9684",
      "revId": "a10c3e2f1e1b3ee8db914764faa92757a96457c6",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    }
  ]
}